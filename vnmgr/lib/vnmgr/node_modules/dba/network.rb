# -*- coding: utf-8 -*-

module Vnmgr::NodeModules::DBA
  class Network < Base
    def attach_vif(params)
      info "[attach_vif]: uuid = #{params['uuid']} vif_uuid = #{params['vif_uuid']}"
      network = taggable_find(params['uuid'])
      vif = taggable_find(params['vif_uuid'])
      vif.network_id = network.id
      vif.save
      vif.to_hash
    end

    def detach_vif(params)
      info "[detach_vif]: vif_uuid = #{params['vif_uuid']}"
      vif = taggable_find(params['vif_uuid'])
      vif.network_id = nil
      vif.save
      vif.to_hash
    end
  end
end
