# -*- coding: utf-8 -*-
require 'spec_helper'

describe Vnmgr::NodeModules::Dba do
  before(:each) do
    Vnmgr::Models::Network.stub(:all).and_return([{uuid: "test-uuid"}])
  end

  subject do
    Vnmgr::NodeModules::Dba.new.execute(:network, :all)
  end

  it { should be_a Array }
  it { expect(subject.size).to eq 1 }
  it { expect(subject.first).to be_a Hash }
  it { expect(subject.first[:uuid]).to eq "test-uuid" }
end
